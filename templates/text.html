<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>听句 TingJu - 英语听说学习工具</title>
    <link rel="icon" type="image/png" href="/static/img/favicon.png">
    <link rel="stylesheet" href="/static/css/text.css">
</head>

<body>
    <div class="container">
        <h1><a href="https://github.com/Pi3-l22/TingJu" target="_blank">听句 TingJu</a></h1>

        <div class="description">
            <p>你可以在下方📝编辑文本，记得仔细🔎检查一下，内容是否正确无误</p>
        </div>

        <form id="confirm-form" action="/generate" method="post">
            <textarea id="text-content" name="text" placeholder="请输入文本内容...">{{ text }}</textarea>
            <div id="text-status">
                {% if error %}
                <span class="error">‼ {{ error }}</span>
                {% endif %}
            </div>

            <div class="voice-selector">
                <label for="voice-select">选择音色:</label>
                <select id="voice-select" name="voice">
                    <option value="">加载中...</option>
                </select>
                <div id="voice-status" style="margin-top: 20px;"></div>
            </div>

            <div class="btn-group">
                <button type="button" class="btn btn-secondary" onclick="window.location.href='/'">🔄️重新上传</button>
                <button type="submit" class="btn">👌确认生成</button>
            </div>
        </form>

        <div id="loading-overlay" class="loading-overlay" style="display: none;">
            <div class="loading-spinner"></div>
            <p>🚀正在全力生成翻译和音频... 趁现在去喝杯☕咖啡吧...</p>
        </div>
    </div>

    <script src="/static/js/text.js"></script>
</body>

</html>