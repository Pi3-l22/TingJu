<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>听句 TingJu - 英语听说学习工具</title>
    <link rel="icon" type="image/png" href="./img/favicon.png">
    <link rel="stylesheet" href="./css/results.css">
</head>

<body>
    <div class="container">
        <h1><a href="https://github.com/Pi3-l22/TingJu" target="_blank">听句 TingJu</a></h1>

        <div class="tools-group" style="justify-content: space-around;">
            <div class="selector-container">
                <button class="tool-btn" id="theme-btn">🎨主题</button>
                <div class="selector-dropdown">
                    <div class="option" id="default">晴空</div>
                    <div class="option" id="blue">云海</div>
                    <div class="option" id="green">春野</div>
                    <div class="option" id="pink">桃夭</div>
                    <div class="option" id="dark">暮灰</div>
                    <div class="option" id="dark-purple">紫霭</div>
                </div>
            </div>
            <div class="selector-container">
                <button class="tool-btn" id="font-btn">📝字体</button>
                <div class="selector-dropdown">
                    <div class="option" id="default">Source Sans</div>
                    <div class="option" id="Source-Serif">Source Serif</div>
                    <div class="option" id="Arvo">Arvo</div>
                    <div class="option" id="Outfit">Outfit</div>
                    <div class="option" id="Nunito">Nunito</div>
                    <div class="option" id="Bree-Serif">Bree Serif</div>
                </div>
            </div>
        </div>

        <div id="status-info">
            {% if warning %}
            <span class="warning">⚠ {{ warning }}</span>
            {% endif %}
        </div>

        {% for item in results %}
        <div class="result-item">
            <div class="sentence"><strong>{{ loop.index }}. </strong> {{ item.sentence }}</div>
            <div class="translation">{{ item.translation }}</div>
            <!-- <input class="user-input" type="text" placeholder="播放音频，听写句子..."> -->
            <textarea class="user-input" placeholder="播放音频，听写句子..." spellcheck="true" autocomplete="off"></textarea>
            <div class=" audio-controls">
                <audio controls class="audio-player">
                    <source src="/{{ item.audio_path }}" type="audio/mpeg">
                    <span class="warning">您的浏览器不支持音频播放，换一个浏览器试试</span>
                </audio>
            </div>
        </div>
        {% endfor %}

        <div class="btn-group">
            <button class="btn btn-secondary clear-btn" style="display: none;">🔁清空重听</button>
            <button class="btn dictation-btn">✒️听写模式</button>
            <button class="btn read-btn" style="display: none;">📖听读模式</button>
        </div>
    </div>

    <script src="./js/results.js"></script>
</body>

</html>